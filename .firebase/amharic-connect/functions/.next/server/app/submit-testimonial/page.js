(()=>{var e={};e.id=3036,e.ids=[3036],e.modules={92509:e=>{"use strict";e.exports=require("firebase-admin")},65877:e=>{"use strict";e.exports=require("firebase-admin/auth")},12594:e=>{"use strict";e.exports=require("firebase-admin/firestore")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},76951:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u}),r(83196),r(96873),r(7629),r(12523);var s=r(23191),i=r(88716),a=r(37922),n=r.n(a),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["submit-testimonial",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,83196)),"/home/user/studio/src/app/submit-testimonial/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,96873)),"/home/user/studio/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"/home/user/studio/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"/home/user/studio/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/home/user/studio/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/user/studio/src/app/submit-testimonial/page.tsx"],d="/submit-testimonial/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/submit-testimonial/page",pathname:"/submit-testimonial",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},43229:(e,t,r)=>{let s={"896ac2a5cbf1337f4326a498e8a75f67d53963a7":()=>Promise.resolve().then(r.bind(r,96543)).then(e=>e.submitTestimonialAction)};async function i(e,...t){return(await s[e]()).apply(null,t)}e.exports={"896ac2a5cbf1337f4326a498e8a75f67d53963a7":i.bind(null,"896ac2a5cbf1337f4326a498e8a75f67d53963a7")}},42278:(e,t,r)=>{Promise.resolve().then(r.bind(r,49644))},31625:(e,t,r)=>{"use strict";r.d(t,{c:()=>s}),r(15424);var s=(0,r(46242).$)("896ac2a5cbf1337f4326a498e8a75f67d53963a7")},49644:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(10326),i=r(17577),a=r(49260),n=r(35047),o=r(29752),l=r(91664),u=r(44794),c=r(82015),d=r(23675),m=r(45800),p=r(31625);function x(){let{user:e,loading:t,isAdmin:r}=(0,a.a)();(0,n.useRouter)();let[x,h]=(0,i.useState)(0),[f,g]=(0,i.useState)(0);return t||!e||r?s.jsx("div",{className:"flex min-h-[calc(100vh-8rem)] items-center justify-center",children:s.jsx(m.$,{size:"lg"})}):s.jsx("div",{className:"container mx-auto max-w-2xl py-12",children:(0,s.jsxs)(o.Zb,{className:"shadow-lg",children:[(0,s.jsxs)(o.Ol,{className:"text-center",children:[s.jsx(o.ll,{className:"text-3xl",children:"Share Your Experience"}),s.jsx(o.SZ,{children:"We'd love to hear about your learning journey with us."})]}),s.jsx(o.aY,{children:(0,s.jsxs)("form",{action:p.c,className:"space-y-8",children:[s.jsx("input",{type:"hidden",name:"userId",value:e.uid}),s.jsx("input",{type:"hidden",name:"userName",value:e.displayName||""}),s.jsx("input",{type:"hidden",name:"userEmail",value:e.email||""}),(0,s.jsxs)("div",{className:"space-y-2 text-center",children:[s.jsx(u._,{htmlFor:"rating",className:"text-lg",children:"Your Rating"}),s.jsx("input",{type:"hidden",name:"rating",value:x}),s.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(e=>s.jsx("button",{type:"button",onMouseEnter:()=>g(e),onMouseLeave:()=>g(0),onClick:()=>h(e),className:"p-1 transition-transform hover:scale-110",children:s.jsx(d.Z,{className:`h-10 w-10 transition-colors ${e<=(f||x)?"text-yellow-400 fill-yellow-400":"text-muted-foreground/30"}`})},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"comment",className:"text-lg",children:"Your Review"}),s.jsx(c.g,{id:"comment",name:"comment",required:!0,rows:8,placeholder:"Tell us about the lesson, the tutor, and what you learned...",className:"resize-none"})]}),s.jsx(l.z,{type:"submit",size:"lg",className:"w-full",disabled:0===x,children:"Submit Testimonial"})]})})]})})}},44794:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});var s=r(10326),i=r(17577),a=r(34478),n=r(79360),o=r(51223);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...t},r)=>s.jsx(a.f,{ref:r,className:(0,o.cn)(l(),e),...t}));u.displayName=a.f.displayName},45800:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var s=r(10326),i=r(46721),a=r(51223);function n({className:e,size:t="md"}){return s.jsx(i.Z,{className:(0,a.cn)("animate-spin text-primary",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t],e)})}},82015:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(10326),i=r(17577),a=r(51223);let n=i.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));n.displayName="Textarea"},96543:(e,t,r)=>{"use strict";r.r(t),r.d(t,{submitTestimonialAction:()=>d});var s=r(27745);r(26461);var i=r(91035),a=r(12594),n=r(65877),o=r(30266),l=r(74739),u=r(30207),c=r(53973);async function d(e){let t=e.get("rating"),r=e.get("comment"),s=parseInt(t,10),d=(0,o.initAdmin)();(0,n.getAuth)(d);let m=(0,a.getFirestore)(d);(await (0,c.headers)()).get("Authorization");let p=e.get("userId"),x=e.get("userName"),h=e.get("userEmail");if(!p)throw Error("You must be logged in to submit a testimonial.");if(!s||s<1||s>5||!r)throw Error("Invalid rating or comment.");try{await m.collection("testimonials").add({userId:p,name:x||"Anonymous",userEmail:h,rating:s,comment:r,status:"pending",createdAt:(0,i.serverTimestamp)()})}catch(e){throw console.error("Error saving testimonial to Firestore:",e),Error("Could not save your testimonial. Please try again later.")}(0,u.revalidatePath)("/testimonials"),(0,u.revalidatePath)("/admin/dashboard"),(0,l.redirect)("/submit-testimonial/success")}(0,r(85723).ensureServerEntryExports)([d]),(0,s.registerServerReference)("896ac2a5cbf1337f4326a498e8a75f67d53963a7",d)},83196:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var s=r(68570);let i=(0,s.createProxy)(String.raw`/home/user/studio/src/app/submit-testimonial/page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let o=(0,s.createProxy)(String.raw`/home/user/studio/src/app/submit-testimonial/page.tsx#default`)},30266:(e,t,r)=>{"use strict";r.d(t,{initAdmin:()=>a});var s=r(92509),i=r.n(s);function a(){if(i().apps.length>0)return i().app();let e={projectId:process.env.FIREBASE_PROJECT_ID,clientEmail:process.env.FIREBASE_CLIENT_EMAIL,privateKey:(process.env.FIREBASE_PRIVATE_KEY||"").replace(/\\n/g,"\n")};if(!e.projectId||!e.clientEmail||!e.privateKey){let e="CRITICAL: Firebase Admin SDK credentials are not set correctly in environment variables. Check your .env file or hosting configuration.";throw console.error(e),Error(e)}try{let t=i().initializeApp({credential:i().credential.cert(e)});return console.log("Firebase Admin SDK initialized successfully."),t}catch(e){if(console.error("CRITICAL: Firebase admin initialization error:",e.message),"app/invalid-credential"===e.code)throw Error("Could not initialize Firebase Admin SDK. The provided credentials are invalid or malformed.");throw Error("Could not initialize Firebase Admin SDK. Please check server logs for details.")}}i().firestore.Timestamp,a(),i().firestore(),i().auth()}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,4623,4458,5330],()=>r(76951));module.exports=s})();