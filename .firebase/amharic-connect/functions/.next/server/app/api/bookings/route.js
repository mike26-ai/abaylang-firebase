"use strict";(()=>{var e={};e.id=1946,e.ids=[1946],e.modules={92509:e=>{e.exports=require("firebase-admin")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92781:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>u,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var i={};t.r(i),t.d(i,{GET:()=>c,dynamic:()=>p});var o=t(49303),n=t(88716),s=t(60670),a=t(87070),l=t(82421);(0,l.xH)();let p="force-dynamic";async function c(e){try{let{searchParams:r}=new URL(e.url),t=r.get("tutorId");if(!t)return a.NextResponse.json({error:"Missing tutorId"},{status:400});let i=l.iW.collection("bookings").where("tutorId","==",t),o=await i.get();if(o.empty)return a.NextResponse.json([]);let n=o.docs.map(e=>({id:e.id,...e.data()}));return a.NextResponse.json(n)}catch(e){return console.error("GET /api/bookings error:",e),a.NextResponse.json({error:"Failed to fetch bookings"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/bookings/route",pathname:"/api/bookings",filename:"route",bundlePath:"app/api/bookings/route"},resolvedPagePath:"/home/user/studio/src/app/api/bookings/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:u,staticGenerationAsyncStorage:m,serverHooks:g}=d,h="/api/bookings/route";function v(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},82421:(e,r,t)=>{t.d(r,{CZ:()=>l,EK:()=>n,iW:()=>a,xH:()=>s});var i=t(92509),o=t.n(i);let n=o().firestore.Timestamp;function s(){if(o().apps.length>0)return o().app();let e={projectId:process.env.FIREBASE_PROJECT_ID,clientEmail:process.env.FIREBASE_CLIENT_EMAIL,privateKey:(process.env.FIREBASE_PRIVATE_KEY||"").replace(/\\n/g,"\n")};if(!e.projectId||!e.clientEmail||!e.privateKey){let e="CRITICAL: Firebase Admin SDK credentials are not set correctly in environment variables. Check your .env file or hosting configuration.";throw console.error(e),Error(e)}try{let r=o().initializeApp({credential:o().credential.cert(e)});return console.log("Firebase Admin SDK initialized successfully."),r}catch(e){if(console.error("CRITICAL: Firebase admin initialization error:",e.message),"app/invalid-credential"===e.code)throw Error("Could not initialize Firebase Admin SDK. The provided credentials are invalid or malformed.");throw Error("Could not initialize Firebase Admin SDK. Please check server logs for details.")}}s();let a=o().firestore(),l=o().auth()}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[8948,5972],()=>t(92781));module.exports=i})();