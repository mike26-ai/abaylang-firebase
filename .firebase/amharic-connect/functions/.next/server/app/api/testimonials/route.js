"use strict";(()=>{var e={};e.id=5382,e.ids=[5382],e.modules={92509:e=>{e.exports=require("firebase-admin")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47076:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>u});var i={};t.r(i),t.d(i,{GET:()=>p});var o=t(49303),a=t(88716),n=t(60670),s=t(87070),l=t(82421);async function p(){try{let e=await l.iW.collection("testimonials").where("status","==","approved").get();if(e.empty)return s.NextResponse.json([]);let r=e.docs.map(e=>({id:e.id,...e.data()}));return s.NextResponse.json(r)}catch(e){return console.error("API Error: /api/testimonials:",e),s.NextResponse.json({error:"Failed to load testimonials from server."},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/testimonials/route",pathname:"/api/testimonials",filename:"route",bundlePath:"app/api/testimonials/route"},resolvedPagePath:"/home/user/studio/src/app/api/testimonials/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:c,staticGenerationAsyncStorage:u,serverHooks:m}=d,v="/api/testimonials/route";function h(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:u})}},82421:(e,r,t)=>{t.d(r,{CZ:()=>l,EK:()=>a,iW:()=>s,xH:()=>n});var i=t(92509),o=t.n(i);let a=o().firestore.Timestamp;function n(){if(o().apps.length>0)return o().app();let e={projectId:process.env.FIREBASE_PROJECT_ID,clientEmail:process.env.FIREBASE_CLIENT_EMAIL,privateKey:(process.env.FIREBASE_PRIVATE_KEY||"").replace(/\\n/g,"\n")};if(!e.projectId||!e.clientEmail||!e.privateKey){let e="CRITICAL: Firebase Admin SDK credentials are not set correctly in environment variables. Check your .env file or hosting configuration.";throw console.error(e),Error(e)}try{let r=o().initializeApp({credential:o().credential.cert(e)});return console.log("Firebase Admin SDK initialized successfully."),r}catch(e){if(console.error("CRITICAL: Firebase admin initialization error:",e.message),"app/invalid-credential"===e.code)throw Error("Could not initialize Firebase Admin SDK. The provided credentials are invalid or malformed.");throw Error("Could not initialize Firebase Admin SDK. Please check server logs for details.")}}n();let s=o().firestore(),l=o().auth()}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[8948,5972],()=>t(47076));module.exports=i})();