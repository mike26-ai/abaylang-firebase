(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3274],{33822:function(e,t,s){Promise.resolve().then(s.bind(s,41090))},41090:function(e,t,s){"use strict";s.d(t,{TestimonialsManager:function(){return b}});var a=s(57437),r=s(2265),n=s(69842),l=s(89506),i=s(47304),c=s(79055),d=s(89733),o=s(31590),u=s(87080),m=s(14468),x=s(62037),f=s(63935),p=s(44182),h=s(19847),j=s(20530),y=s(28420),g=s(86763),v=s(91892),N=s(29943),w=s(48185);function b(){let[e,t]=(0,r.useState)([]),[s,b]=(0,r.useState)(!0),{toast:k}=(0,g.pm)(),[A,C]=(0,r.useState)(null),D=async()=>{b(!0);try{let e=(0,n.hJ)(l.db,"testimonials"),s=(0,n.IO)(e,(0,n.Xo)("createdAt","desc")),a=(await (0,n.PL)(s)).docs.map(e=>({id:e.id,...e.data()}));t(a)}catch(e){console.error("Error fetching testimonials:",e),k({title:"Error",description:"Could not fetch testimonials.",variant:"destructive"})}finally{b(!1)}};(0,r.useEffect)(()=>{D()},[]);let Z=async(e,t)=>{try{let s=(0,n.JU)(l.db,"testimonials",e);await (0,n.r7)(s,{status:t}),k({title:"Success",description:"Testimonial status updated to ".concat(t,".")}),D()}catch(e){console.error("Error updating testimonial status:",e),k({title:"Error",description:"Could not update testimonial status.",variant:"destructive"})}},R=async e=>{try{let t=(0,n.JU)(l.db,"testimonials",e);await (0,n.oe)(t),k({title:"Success",description:"Testimonial deleted."}),C(null),D()}catch(e){console.error("Error deleting testimonial:",e),k({title:"Error",description:"Could not delete testimonial.",variant:"destructive"})}};return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(v.$,{size:"lg"})}):0===e.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"No testimonials submitted yet."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,a.jsxs)(i.iA,{children:[(0,a.jsx)(i.xD,{children:(0,a.jsxs)(i.SC,{children:[(0,a.jsx)(i.ss,{children:"Student Name"}),(0,a.jsx)(i.ss,{children:"Rating"}),(0,a.jsx)(i.ss,{children:"Comment"}),(0,a.jsx)(i.ss,{children:"Status"}),(0,a.jsx)(i.ss,{children:"Submitted On"}),(0,a.jsx)(i.ss,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(i.RM,{children:e.map(e=>(0,a.jsxs)(i.SC,{children:[(0,a.jsx)(i.pj,{className:"font-medium",children:e.name}),(0,a.jsx)(i.pj,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.rating," ",(0,a.jsx)(u.Z,{className:"ml-1 h-4 w-4 text-yellow-400 fill-yellow-400"})]})}),(0,a.jsx)(i.pj,{className:"max-w-xs truncate",children:e.comment}),(0,a.jsx)(i.pj,{children:(0,a.jsx)(c.C,{variant:"approved"===e.status?"default":"pending"===e.status?"secondary":"destructive",className:"pending"===e.status?"bg-yellow-500/10 text-yellow-700 dark:text-yellow-500":"",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,a.jsx)(i.pj,{children:e.createdAt?(0,y.WU)(e.createdAt.toDate(),"PP pp"):"N/A"}),(0,a.jsx)(i.pj,{className:"text-right",children:(0,a.jsxs)(o.h_,{children:[(0,a.jsx)(o.$F,{asChild:!0,children:(0,a.jsxs)(d.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsx)(m.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(o.AW,{align:"end",children:[(0,a.jsx)(o.Ju,{children:"Actions"}),(0,a.jsxs)(o.Xi,{onClick:()=>Z(e.id,"approved"),disabled:"approved"===e.status,children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4 text-green-500"})," Approve"]}),(0,a.jsxs)(o.Xi,{onClick:()=>Z(e.id,"pending"),disabled:"pending"===e.status,children:[(0,a.jsx)(f.Z,{className:"mr-2 h-4 w-4 text-orange-500"})," Mark as Pending"]}),(0,a.jsxs)(o.Xi,{onClick:()=>Z(e.id,"rejected"),disabled:"rejected"===e.status,children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4 text-red-500"})," Reject"]}),(0,a.jsx)(o.VD,{}),(0,a.jsxs)(o.Xi,{className:"text-red-600 hover:!text-red-600 focus:!text-red-600",onClick:()=>C(e),children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},e.id))})]})}),(0,a.jsx)("div",{className:"md:hidden space-y-4",children:e.map(e=>(0,a.jsxs)(w.Zb,{className:"shadow-md",children:[(0,a.jsx)(w.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(w.ll,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-muted-foreground"})," ",e.name]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Submitted: ",e.createdAt?(0,y.WU)(e.createdAt.toDate(),"PP"):"N/A"]})]}),(0,a.jsx)(c.C,{variant:"approved"===e.status?"default":"pending"===e.status?"secondary":"destructive",className:"pending"===e.status?"bg-yellow-500/10 text-yellow-700 dark:text-yellow-500":"",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})}),(0,a.jsxs)(w.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)(u.Z,{className:"w-5 h-5 ".concat(s<e.rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30")},s)),(0,a.jsxs)("span",{className:"text-sm font-bold ml-1",children:["(",e.rating,")"]})]}),(0,a.jsxs)("p",{className:"text-muted-foreground text-sm italic",children:['"',e.comment,'"']})]}),(0,a.jsxs)(w.eW,{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 w-full",children:[(0,a.jsxs)(d.z,{onClick:()=>Z(e.id,"approved"),disabled:"approved"===e.status,size:"sm",children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"})," Approve"]}),(0,a.jsxs)(d.z,{onClick:()=>Z(e.id,"rejected"),disabled:"rejected"===e.status,variant:"outline",size:"sm",children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"})," Reject"]})]}),(0,a.jsxs)(d.z,{onClick:()=>C(e),variant:"destructive",size:"sm",className:"w-full mt-2",children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"})," Delete"]})]})]},e.id))}),(0,a.jsx)(N.aR,{open:!!A,onOpenChange:e=>!e&&C(null),children:(0,a.jsxs)(N._T,{children:[(0,a.jsxs)(N.fY,{children:[(0,a.jsx)(N.f$,{children:"Are you sure?"}),(0,a.jsxs)(N.yT,{children:["This action cannot be undone. This will permanently delete the testimonial by ",null==A?void 0:A.name,"."]})]}),(0,a.jsxs)(N.xo,{children:[(0,a.jsx)(N.le,{children:"Cancel"}),(0,a.jsx)(N.OL,{onClick:()=>A&&R(A.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})}},29943:function(e,t,s){"use strict";s.d(t,{OL:function(){return j},_T:function(){return m},aR:function(){return c},f$:function(){return p},fY:function(){return x},le:function(){return y},vW:function(){return d},xo:function(){return f},yT:function(){return h}});var a=s(57437),r=s(2265),n=s(76669),l=s(49354),i=s(89733);let c=n.fC,d=n.xz,o=n.h_,u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});u.displayName=n.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=n.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};x.displayName="AlertDialogHeader";let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};f.displayName="AlertDialogFooter";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",s),...r})});p.displayName=n.Dx.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=n.dk.displayName;let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aU,{ref:t,className:(0,l.cn)((0,i.d)(),s),...r})});j.displayName=n.aU.displayName;let y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.$j,{ref:t,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});y.displayName=n.$j.displayName},76669:function(e,t,s){"use strict";s.d(t,{$j:function(){return V},Dx:function(){return U},VY:function(){return T},aU:function(){return _},aV:function(){return M},dk:function(){return P},fC:function(){return O},h_:function(){return S},xz:function(){return E}});var a=s(2265),r=s(98324),n=s(1584),l=s(13304),i=s(78149),c=s(71538),d=s(57437),o="AlertDialog",[u,m]=(0,r.b)(o,[l.p8]),x=(0,l.p8)(),f=e=>{let{__scopeAlertDialog:t,...s}=e,a=x(t);return(0,d.jsx)(l.fC,{...a,...s,modal:!0})};f.displayName=o;var p=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=x(s);return(0,d.jsx)(l.xz,{...r,...a,ref:t})});p.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...s}=e,a=x(t);return(0,d.jsx)(l.h_,{...a,...s})};h.displayName="AlertDialogPortal";var j=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=x(s);return(0,d.jsx)(l.aV,{...r,...a,ref:t})});j.displayName="AlertDialogOverlay";var y="AlertDialogContent",[g,v]=u(y),N=(0,c.sA)("AlertDialogContent"),w=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,children:r,...c}=e,o=x(s),u=a.useRef(null),m=(0,n.e)(t,u),f=a.useRef(null);return(0,d.jsx)(l.jm,{contentName:y,titleName:b,docsSlug:"alert-dialog",children:(0,d.jsx)(g,{scope:s,cancelRef:f,children:(0,d.jsxs)(l.VY,{role:"alertdialog",...o,...c,ref:m,onOpenAutoFocus:(0,i.Mj)(c.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=f.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(N,{children:r}),(0,d.jsx)(z,{contentRef:u})]})})})});w.displayName=y;var b="AlertDialogTitle",k=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=x(s);return(0,d.jsx)(l.Dx,{...r,...a,ref:t})});k.displayName=b;var A="AlertDialogDescription",C=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=x(s);return(0,d.jsx)(l.dk,{...r,...a,ref:t})});C.displayName=A;var D=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=x(s);return(0,d.jsx)(l.x8,{...r,...a,ref:t})});D.displayName="AlertDialogAction";var Z="AlertDialogCancel",R=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,{cancelRef:r}=v(Z,s),i=x(s),c=(0,n.e)(t,r);return(0,d.jsx)(l.x8,{...i,...a,ref:c})});R.displayName=Z;var z=e=>{let{contentRef:t}=e,s="`".concat(y,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(y,"` by passing a `").concat(A,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(y,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return a.useEffect(()=>{var e;document.getElementById(null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},O=f,E=p,S=h,M=j,T=w,_=D,V=R,U=k,P=C},62037:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44182:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},14468:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},63935:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},87080:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},19847:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},20530:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6497).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[4358,139,6244,537,54,3959,381,5510,1294,3304,6680,9705,2971,7023,1744],function(){return e(e.s=33822)}),_N_E=e.O()}]);